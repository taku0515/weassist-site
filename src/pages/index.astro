---
import Layout from '../layouts/Layout.astro';
// 以前作成したサービスカードなどがあればインポート
import ServiceCard from '../components/ServiceCard.astro'; 
import { Image } from 'astro:assets';
import { SITE_DATA } from '../data/site';

// 背景画像用のURL（PC版と同じものを使用）
const heroImage = "https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";
---

<Layout title={`${SITE_DATA.name} | 未来を創るITパートナー`}>
  
  <section class="relative bg-slate-900 text-white overflow-hidden min-h-[800px] flex items-center">
    
    <div class="absolute inset-0 z-0 md:hidden">
      <Image 
        src={heroImage} 
        alt="Background" 
        width={800} 
        height={1200}
        class="w-full h-full object-cover opacity-60" 
      />
      <div class="absolute inset-0 bg-gradient-to-b from-slate-900/80 via-slate-900/80 to-slate-900"></div>
    </div>

    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-600 rounded-full blur-[120px] opacity-20 md:opacity-40 animate-blob"></div>
      <div class="absolute top-[20%] right-[-10%] w-[400px] h-[400px] bg-cyan-500 rounded-full blur-[100px] opacity-20 md:opacity-30 animate-blob animation-delay-2000"></div>
      
      <div class="absolute inset-0 bg-[url('/grid-pattern.svg')] opacity-10"></div>
    </div>

    <div class="container mx-auto px-6 grid md:grid-cols-2 gap-12 items-center relative z-10">
      
      <div class="space-y-8 text-center md:text-left">
        
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-sm font-mono animate-fade-in-up mx-auto md:mx-0">
          <span class="relative flex h-2 w-2">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2 w-2 bg-blue-500"></span>
          </span>
          Next Generation Tech
        </div>

        <h1 class="text-4xl md:text-6xl font-bold leading-tight tracking-tight drop-shadow-lg">
          技術でビジネスを<br />
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300 typewriter"></span>
          <span class="animate-blink">|</span>
        </h1>

        <p class="text-slate-100 md:text-slate-300 text-lg leading-relaxed max-w-lg animate-fade-in-up delay-100 mx-auto md:mx-0 drop-shadow-md">
          最新のAIソリューションとクラウド技術で、御社のデジタルトランスフォーメーションを強力に支援します。確かな技術力で、未来への架け橋に。
        </p>
        
        <div class="flex flex-wrap gap-4 pt-4 animate-fade-in-up delay-200 justify-center md:justify-start">
          <a href="/services" class="px-8 py-4 bg-gradient-to-r from-gray-700 to-gray-400 hover:from-gray-400 hover:to-gray-300 text-white rounded-lg font-bold transition-all shadow-lg shadow-blue-900/50 hover:shadow-blue-900/80 hover:-translate-y-1">
            事業内容を見る
          </a>
          <a href="/news" class="px-8 py-4 bg-gradient-to-r from-blue-700 to-blue-400 hover:from-gray-400 hover:to-gray-300 text-white rounded-lg font-bold transition-all shadow-lg shadow-blue-900/50 hover:shadow-blue-900/80 hover:-translate-y-1">
            お知らせ
          </a>
        </div>
      </div>

      <div class="relative animate-float hidden md:block">

        <Image 
          src={heroImage}
          alt="Dashboard" 
          width={800} 
          height={600}
          class="rounded-2xl shadow-2xl border border-slate-700 relative z-10 w-full" 
        />
        
        <div class="absolute -bottom-10 -left-10 bg-slate-800/80 backdrop-blur-md p-6 rounded-xl border border-slate-600 shadow-xl z-20 animate-float animation-delay-2000">
          <div class="flex items-center gap-4">
            <div class="bg-green-500/20 p-3 rounded-lg text-green-400">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
            </div>
            <div>
              <p class="text-sm text-slate-400">Project Status</p>
              <p class="text-xl font-bold text-white">Success</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 bg-white text-slate-800">
    <div class="container mx-auto px-6 text-center">
      <h2 class="text-3xl font-bold mb-12">選ばれる理由</h2>
      <div class="grid md:grid-cols-3 gap-8">
        {['高度な技術力', '迅速な開発体制', '充実のサポート'].map((item) => (
          <div class="p-6 bg-slate-50 rounded-xl border border-slate-100">
            <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center mx-auto mb-4 text-2xl">✓</div>
            <h3 class="text-xl font-bold">{item}</h3>
          </div>
        ))}
      </div>
    </div>
  </section>

  </Layout>

<style>
  /* --- アニメーションの定義 --- */

  /* 1. オーロラのように動く（blob） */
  @keyframes blob {
    0% { transform: translate(0px, 0px) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
    100% { transform: translate(0px, 0px) scale(1); }
  }
  .animate-blob {
    animation: blob 7s infinite;
  }
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  .animation-delay-4000 {
    animation-delay: 4s;
  }

  /* 2. ふわふわ浮く（float） */
  @keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
    100% { transform: translateY(0px); }
  }
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* 3. カーソルの点滅 */
  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }
  .animate-blink {
    animation: blink 1s step-end infinite;
  }

  /* 4. ふわっと現れる */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0; /* 初期状態は隠す */
  }
  .delay-100 { animation-delay: 0.1s; }
  .delay-200 { animation-delay: 0.2s; }
</style>

<script>
  // --- タイプライター演出のスクリプト ---
  const textElement = document.querySelector('.typewriter');
  const texts = ["加速させる", "変革する", "創造する"]; // 切り替わる言葉
  let textIndex = 0;
  let charIndex = 0;
  let isDeleting = false;

  function type() {
    if (!textElement) return;

    const currentText = texts[textIndex];
    
    if (isDeleting) {
      textElement.textContent = currentText.substring(0, charIndex - 1);
      charIndex--;
    } else {
      textElement.textContent = currentText.substring(0, charIndex + 1);
      charIndex++;
    }

    let typeSpeed = isDeleting ? 100 : 200;

    if (!isDeleting && charIndex === currentText.length) {
      // 打ち終わったら少し待って削除開始
      typeSpeed = 2000;
      isDeleting = true;
    } else if (isDeleting && charIndex === 0) {
      // 削除し終わったら次の言葉へ
      isDeleting = false;
      textIndex = (textIndex + 1) % texts.length;
      typeSpeed = 500;
    }

    setTimeout(type, typeSpeed);
  }

  // ページ読み込み後に開始
  document.addEventListener('DOMContentLoaded', type);
</script>